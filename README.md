# MyHomp

# 개발배경
 -> 현대의 젊은 사람들은 온라인상에 자신만의 공간이 하나씩 있습니다. 블로그를 운영하는 사람도 있고 SNS을 사용하는 사람들도 있습니다. 자신의 공간을 자유롭게 가질 수 있는 요즘 사회에서는 sns라는 의미가 제 역할을 톡톡히 하고 있습니다.
보편적으로 사용하는 sns는 이제는 자신의 공간을 넘어서 공개적인 네트워크로서 자리를 잡게 되었지만, 부작용으로 자신의 공간을 타인에게 침해를 받고 신상 털기 및 마녀 사냥의 공간의 장이 되기도 합니다.
사용자 자신의 하고 싶은 이야기 한마디에도 조심스럽게 된 sns 공간에서 몇몇 사람들은 이미 서비스가 종료된 sns인 싸이월드를 추억하고 있습니다.
이런 관점으로 개별적 성향이 강한 sns를 다시 사용하고 싶은 사람들을 대상으로 한 프로젝트를 생각하게 되었습니다.
대중에 보편적으로 보급된 sns의 플랫폼에서 싸이월드라는 고전풍의 sns를 추억하는 사람들이 있다는 것에 초점을 두어 추억의 sns 싸이월드를 다시 한번 즐길 수 있도록 MyHomp라는 프로젝트를 개발하게 되었습니다.

# MVC 모델
 1.사용자가 사이트에 접속하면 보여 지는 첫 화면은 project.html이며 사용자가 로그인을 해야 이용 가능한 서비스인 만큼 회원가입이 필수적이다. 회원가입에는 필수와 선택조건으로 입력해야하는 사항이 있다. 조건에 맞게 입력받은 경우 project.java에서 입력 받은 값들에 대하여 파라미터 값을 선언하고 project.jsp를 통하여 project.java에 선언된 데이터 값들을 가져와 데이터베이스에 저장 시켜준다.
 
 2.계정에 대한 정보를 사용자가 잊은 경우 accountsearch.htm로 넘어가서 계정을 찾을 수 있다. 계정 찾기 방식은 아이디로 찾기와 비밀번호로 찾기가 있는 데, accountsearch.html에 입력한 값들을 getparameter를 통해 가져와 데이터베이스에 저장된 컬럼값과 비교하여 일치하는 경우 찾고자하는 정보를 alert로 반환해준다.
 
 3.accountsearch.jsp-입력된 정보를 데이터베이스에 저장된 값과 비교하여 반환해주는 컨트롤러
 
 4.다음으로 계정을 생성한 후 로그인을 하는 과정이다.(project.html)
 
 5.아이디와 비밀번호 창에 값을 입력한 후 project_Login.jsp로 넘기는 데, project_Login.jsp가 컨트롤러 역할로 
일반 사용자와 관리자를 구분 지으며, 계정에 관한 정보가 올바른 지 잘못 됬는 지를 판단하여 로그인 처리를 해준다.  이때, project_Login.java를 모듈로 생성된 파라미터와 비교를 통해 로직을 수행한다.

 6.입력받은 값을 project_Login.java에서 불러와 데이터베이스에 저장된 값들끼리 비교한다. 
문제가 없을 경우 해당 계정에 대한 session값을 생성함과 동시에 loginafter.jsp로 페이지를 넘겨준다. 

 7.로그인이 완료 된 후에는 앞서 생성된 계정의 session값을 가져와 생성된session의 페이지정보를 불러온다.
 loginafter.jsp의 페이지 구성은 프로필사진과 홈, 사진첩, 방명록으로 되어 있고, 홈 프레임에는 한줄 글(일촌평)이 배치되어 있다. 한줄 글(일촌평)은 시간에 따른 내림차순으로 수신자(target)를 페이지의 사용자의 세션으로 지정하여 데이터베이스에서 가져온다. 한줄 글(일촌평)은 reply_ok(1).jsp를 통해 입력내용을 데이터베이스에 불러오도록 설계되었다. 입력하는 발신자(write)와 내용(content), 수신자(target), 시간(tim)을 컨트롤러를 통해(reply_ok(2).jsp) 데이터베이스에 저장하고 이를 프레임으로 불러와서 다시 홈 프레임으로 띄워주는 방식이다.
 
 8.사용자가 사진첩메뉴를 사용하기 위해서 사진을 업로드를 하여야하는 데, 이때 사용자가 업로드 하는 사진을 서버에 저장이 되어야만 다른 사용자들 또한 해당하는 계정의 사진을 볼 수 있다. 서버에 저장하기 위해서 개발자가 프로젝트 서버 폴더에 이미지를 관리할 수 있는 폴더를 생성해 주었고, cos.jar 라이브러리를 추가하여 jpg파일을 다룰 수 있도록 셋팅 해주어야 한다.
 
 9.한줄 글과 마찬가지로 수신자, 내용, 발신자를 데이터베이스에 저장하고, 추가적으로 이미지파일을 저장시킨다.(post_add_mine.jsp)
 
 10.위의 사진은 친구 찾기 소스의 일부이다. 검색하는 이름을 데이터베이스에서 일치여부에 따라 일치하는 경우 아이디와 이름을 반환해준다.                  (friendlist.jsp) 위의 사진은 친구 찾기 소스의 일부이다. 검색하는 이름을 데이터베이스에서 일치여부에 따라 일치하는 경우 아이디와 이름을 반환해준다.
 
 11.위의 사진은 친구 추천 기능의 쿼리문이다. 회원가입 시 입력받은 거주지정보를 기준으로 사용자들의 이름과 아이디를 이름에 대한 내림차순으로 가져온다. 자동적으로 출신지역이 같은 사용자들끼리 서로를 알 수 있도록 화면에 띄워준다. 
친구 추천에서는 arraylist를 통해 세션을 생성하여 값을 저장하고 이 기능을 통해 페이지를 넘어갈 시에는 세션을 가져와서 다른 사용자의 페이지라는 것을 명시하여준다.

 12.get방식으로 다른 사용자의 아이디 값을 가져와  이를 명시하여 준다. 
이외의 페이지구성과 컨트롤러기능은 loginafter.jsp와 연결된 컨트롤러 이름과 비슷하다.(뒤에 friend가 붙은 파일)(friendpage.jsp)

 13.friendpage.jsp와 마찬가지로 get방식을 이용하여 다른 사용자의 아이디를 불러온다. (friendrecommandpage.jsp) 
 
 14.다음은 관리자 화면이다. 
 
일반사용자들과 마찬가지의 화면 구성이지만 추가적으로 데이터베이스에 저장된 모든 사용자의 계정을 볼 수 있으며, 이를 삭제 할 수도 있다.(adminafter.jsp)

 15.memberdelete.jsp관리자의 일반 사용자계정 삭제 컨트롤러 관리자가 일반사용자의 계정을 삭제 하고자 할 시, adminafter.jsp는 memberdelete.jsp로 입력한 파라미터값을 넘기며 삭제 쿼리문을 통해 수행이 가능하다.
 
 16.logout.jsp 컨트롤러 로그아웃 이벤트를 해주는 jsp파일로 로그아웃을 위해 생성된 세션을 삭제해준다.
